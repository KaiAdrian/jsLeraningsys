<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
        <script src="/BERIME/Naloge/TASKBUNDLE/taskBundle.js"></script>
        <script>
            // const najstarejsaOseba = Math.max(osebe.starost);
            // console.log(najstarejsaOseba);
            const starosti = osebe.map(o => o.starost);
            const najstarejsa = Math.max(...starosti);

            console.log("NajstarejÅ¡a oseba ima", najstarejsa, "let.");


            const najstarejsaOseba = osebe.reduce((naj, trenutna) => {
                return trenutna.starost > naj.starost ? trenutna : naj;
            });

            console.log("NajstarejÅ¡a oseba je:", najstarejsaOseba.ime, najstarejsaOseba.starost, "let");

            //  ğŸ§  Kaj reduce v resnici poÄne?
            // reduce spremlja neko vrednost skozi array
            // in jo na koncu zmanjÅ¡a (reduce) v en rezultat â€“ lahko je Å¡tevilo, objekt, string, array itd.
            let array = [1, 3];
            array.reduce((acc, current) => {
                // tukaj "gradiÅ¡" konÄni rezultat

                //return updatedAcc;
            }, /*zacetnaVrednost*/);

            const stevilke = [5, 8, 2, 9];

            const vsota = stevilke.reduce((acc, num) => {
                return acc + num;
            }, 0);

            console.log(vsota); // â†’ 24


            const najstarejsaA = osebe.reduce((naj, trenutna) => {
                return trenutna.starost > naj.starost ? trenutna : naj;
            });

            console.log(najstarejsaA); // { ime: "Boris", starost: 40 }



            //tukaj nsimo podali zaÄ.vrednosti kot v smislu "}, 0);" ali "}, zacetnaVrednost);"



            // ChatGPT je rekel:
            // OdliÄno si opazil! ğŸ‘‡
            // To je ena od posebnosti reduce, ki vÄasih deluje brez zaÄetne vrednosti â€“ ampak to ni vedno priporoÄljivo.

            // ğŸ” Zakaj tukaj deluje brez zaÄetne vrednosti ?
            //                 ÄŒe ne podaÅ¡ zaÄetne vrednosti, bo reduce avtomatsko:

            // vzela prvi element arraya kot zaÄetni acc(naj),

            //  zanka se zaÄne Å¡ele pri drugem elementu.

            // Reduce zaÄne z:

            // naj = { ime: "Ana", starost: 25 } â† prvi element

            // trenutna = { ime: "Boris", starost: 40 }

            // nato { ime: "Tina", starost: 32 }

            // ğŸ‘‰ In primerja naprej brez teÅ¾av.
            // âš ï¸ Kdaj je to lahko problem?
            // Ko je array prazen ali lahko prazen, bo:
            // [].reduce(...)  // â›” vrÅ¾e napako: "Reduce of empty array with no initial value

            // âœ… PriporoÄilo(varnejÅ¡a oblika):
            // ÄŒe Å¾eliÅ¡ biti ekspliciten in varen:
            const najstarejsaAA = osebe.reduce((naj, trenutna) => {
                return trenutna.starost > naj.starost ? trenutna : naj;
            }, osebe[0]); // podamo prvi element kot zaÄetno vrednost

            const najmlajsaOseba = osebe.reduce((najMlaj, curr) => {
                return curr.starost < najMlaj.starost ? curr : najMlaj;
            });

            console.log(`najmlajÅ¡a oseba je: ${najmlajsaOseba.ime} z ${najmlajsaOseba.starost} leti.`);
            function analiza(osebe) {
                const statistika = {
                    povprecnaStarost: 0,
                    steviloMoskih: 0,
                    steviloZensk: 0,
                    polnoletni: [],
                };

                if (osebe.length === 0) return statistika;

                const vsotaStarosti = osebe.reduce((vsota, oseba) => {
                    // if (oseba.spol === "moÅ¡ki") statistika.steviloMoskih++;
                    // if (oseba.spol === "Å¾enska") statistika.steviloZensk++;
                    oseba.spol === "moÅ¡ki"
                        ? statistika.steviloMoskih++
                        : statistika.steviloZensk++;
                    oseba.starost >= 18 ? statistika.polnoletni.push(oseba.ime) : null;
                    // Alternativa (Äe ti je bolj pregledno):

                    // oseba.starost >= 18 && statistika.polnoletni.push(oseba.ime);
                    // Ta zapis uporablja && kot bliÅ¾njico:

                    // Äe je pogoj resniÄen, izvede desni del

                    return vsota + oseba.starost;
                }, 0);

                statistika.povprecnaStarost = vsotaStarosti / osebe.length;
                return statistika;
            }

            console.log(analiza(osebe));
        </script>
    </body>

</html>