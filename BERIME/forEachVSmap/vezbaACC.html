<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
        <script>
            //         array.reduce(
            //   (accumulator, currentValue) => accumulator + currentValue,
            //   initialValue,

            // Tukaj:

            // v je accumulator (akumulator ali "vmesni rezultat")

            // cV je currentValue (trenutna vrednost iz arraya)
            // 0 je zaƒçetna vrednost v


            console.log([1, 34, 0].reduce((v, cV) => v - cV, 0));
            // Ampak ƒçe rezultat ≈æeli≈° veƒçkrat uporabiti, potem je bolje, da ga shrani≈°:
            const rezultat = [1, 34, 0].reduce((v, cV) => v - cV, 0);
            console.log(rezultat);

            //igraƒçkanje 
            const arrZaMnozenje = [17, 34, 68]
            const multiZmnozek = arrZaMnozenje.reduce((acc, cV) => acc * 2, 2);
            console.log(multiZmnozek); //16
            // ...bo≈° v bistvu vsakiƒç samo podvojil akumulator, ne glede na vrednosti v arrayu

            const arrZaMnozenjeII = [1, 2, 3];
            const multiZmnozekII = arrZaMnozenje.reduce((acc, cV) => acc * cV, 1);
            console.log(multiZmnozekII);

            // üéØ ƒåe ≈æeli≈°:
            // Pomno≈æiti vse vrednosti med seboj ‚Üí uporabi acc * cV

            // Samo veƒçkrat pomno≈æiti z 2 ‚Üí potem mogoƒçe sploh ne rabi≈° arraya

            console.log(arrZaMnozenje.map(el => el * 2));

            // Seveda! üòÑ
            // Tvoja vrstica:

            // console.log(arrZaMnozenje.forEach(e => e * 2));
            // ima eno klasiƒçno past v JavaScriptu:

            // ‚ö†Ô∏è Te≈æava:
            // .forEach() ne vraƒça niƒçesar(undefined).Uporablja se za stranske uƒçinke(npr.console.log, spreminjanje obstojeƒçega arraya ipd.), ne za ustvarjanje novih arrayev.

            //  ƒåe ≈æeli≈° samo izpisati vsak izraƒçun brez ustvarjanja novega arraya:
            arrZaMnozenje.forEach(e => console.log(e * 2));

            console.log("presledek");
            //kaj pa ƒçe:
            const noviArrZaMnozenje = arrZaMnozenje.forEach(e => console.log(e * 2));

            console.log(noviArrZaMnozenje);//undefined
            // Da, to lahko napi≈°e≈° ‚Äî tehniƒçno je sintaksa pravilna, ampak pomembno je razumeti kaj se dejansko zgodi:

            // üîç Kaj se tukaj zgodi:
            // forEach(e => console.log(e * 2)):
            // Izpi≈°e vsako vrednost, pomno≈æeno z 2
            // Ne vrne nobenega arraya, vrne undefined
            // noviArrZaMnozenje bo torej enak undefined

            // NE VRAƒåA VREDNOSTI!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


            // ChatGPT je rekel:
            // Odliƒçno vpra≈°anje! üôå
            // .forEach() je uporaben, kadar ≈æeli≈° nek uƒçinek nad vsakim elementom arraya, ne da bi ustvarjal nov array ali vraƒçal rezultat.

            // üîç Kljuƒçna lastnost .forEach():
            // Ne vraƒça nove vrednosti (vedno undefined)

            // Namenjen je za stranske uƒçinke (npr. izpis, manipulacija DOM-a, po≈°iljanje zahtevkov, spreminjanje zunanjih spremenljivk...)


            // Kdaj ni primeren?
            // Ko ≈æeli≈° nov array: uporabi .map()

            // Ko ≈æeli≈° eno konƒçno vrednost: uporabi .reduce()

            // Ko ≈æeli≈° filtrirati elemente: uporabi .filter()


            /*ZA FUNKCIJAAAAAAAAAAAAAAAAA
            AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
            AAAAAAAAAAAAAAAAAAAAAAAAAAAA
            AAAAAAAAAAAAAAAAAAAAAAAAAA*/



            const arrTest = [
                {
                    ime: "Jo≈æi",
                    starost: 38,
                    spol: "≈æ"
                },
                {
                    ime: "Opica",
                    starost: 15,
                    spol: "≈æ"
                },
                {
                    ime: "Kobilica",
                    starost: 38,
                    spol: "≈æ"
                },
                {
                    ime: "Medo",
                    starost: 38,
                    spol: "m"
                },
                {
                    ime: "Zajƒçek",
                    starost: 10,
                    spol: "m"
                },
                {
                    ime: "Zajƒçek",
                    starost: 13,
                    spol: "m"
                },
                {
                    ime: "Zajƒçek",
                    starost: 13,
                    spol: "m"
                },

            ];
            const spolM = arrTest.filter(value => value.spol === "m")
            console.log(spolM);
            console.log(spolM.length);

            const spol = arrTest.reduce((o, spol) => {
                o[spol.spol] = (o[spol.spol] || 0) + 1;
                return o;
                // },)// ‚Üê tukaj manjka zaƒçetni objekt: {}
            }, {}); // dodali smo zaƒçetni objekt

            console.log(spol);///yeah!!!!!!

            console.log(`≈†tevilu dicau: ${spol.m}`)
            console.log(`≈†tevilu bab: ${spol.≈æ}`);

            //reduce() brez zaƒçetne vrednosti vzame prvi element arraya kot zaƒçetno vrednost ‚Üí to ni varno, ƒçe ≈æeli≈° zgraditi objekt ali array

            // vedno raje podaj zaƒçetno vrednost, npr. {} za objekt ali [] za array

            const leta = arrTest.reduce((oseba, leta) => {
                oseba[leta.starost] = (oseba[leta.starost] || 0) + 1;
                return oseba;
            }, {});
            console.log(leta);
            // console.log(leta.oseba);

            //üéÅ Bonus: Izraƒçun najpogostej≈°ega spola
            // Dodamo na koncu:

            const statistikaSpola = arrTest.reduce((acc, oseba) => {
                acc[oseba.spol] = (acc[oseba.spol] || 0) + 1;
                return acc;
            }, {});

            // Poi≈°ƒçemo najpogostej≈°i spol
            const najpogostejsiSpol = Object.entries(statistikaSpola).reduce((naj, trenutni) => {
                return trenutni[1] > naj[1] ? trenutni : naj;
            });

            console.log(`Najpogostej≈°i spol: ${najpogostejsiSpol[0]} (${najpogostejsiSpol[1]} oseb)`);

            function statistika(array, pogojFn, izpisFn) {
                array
                    .filter(pogojFn)         // najde elemente, ki ustrezajo pogoju
                    .forEach(izpisFn);       // izpi≈°e jih
            }
            statistika(
                arrTest,
                oseba => oseba.starost < 18,                         // pogoj
                oseba => console.log(`${oseba.ime}, starost: ${oseba.starost}`) // kaj izpi≈°emo
            );
            statistika(
                arrTest, oseba => oseba.spol === "m",
                 oseba => console.log(`${oseba.ime}, starost: ${oseba.starost}`) // kaj izpi≈°emo
            )

        </script>
    </body>

</html>