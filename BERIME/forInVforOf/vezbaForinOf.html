<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
        <script>
            const arrTest = [
                {
                    ime: "Jo≈æi",
                    starost: 38,
                    spol: "≈æ"
                },
                {
                    ime: "Opica",
                    starost: 15,
                    spol: "≈æ"
                },
                {
                    ime: "Kobilica",
                    starost: 38,
                    spol: "≈æ"
                },
                {
                    ime: "Medo",
                    starost: 38,
                    spol: "m"
                },
                {
                    ime: "Zajƒçek",
                    starost: 10,
                    spol: "m"
                },
                {
                    ime: "Zajƒçek",
                    starost: 13,
                    spol: "m"
                },
                {
                    ime: "Zajƒçek",
                    starost: 13,
                    spol: "m"
                },
            ];

            for (ime of arrTest) {
                if (ime.starost < 18) {
                    console.log(`${ime.ime} ${ime.starost}`)
                }
            }
            //üîß Predlogi za izbolj≈°ave:
            // 1. Uporabi const ali let v for ... of zanki
            // Zdaj pi≈°e≈° samo for(ime of arrTest), kar pomeni, da je ime implicitno globalna spremenljivka (nevarna praksa!).

            // ‚úÖ Popravi to na:
            // for (const oseba of arrTest) {
            //   if (oseba.starost < 18) {
            //     console.log(`${oseba.ime} ${oseba.starost}`);
            //   }
            // }

            console.log("");
            console.log(`presledek`);
            console.log("");

            // 3. Alternativa z.filter() in .forEach()(ƒçe ≈æeli≈° bolj "funkcionalni" stil)
            arrTest
                .filter(oseba => oseba.starost < 18)
                .forEach(oseba => console.log(`${oseba.ime} ${oseba.starost}`));
            // üîπ Prednost: jasno loƒçeni pogoji in dejanja
            // üîπ Slabost: za zelo dolge arraye je for...of morda malo hitrej≈°i(a zanemarljivo)

            
            //üéÅ Bonus: Izraƒçun najpogostej≈°ega spola
            // Dodamo na koncu:
            const statistikaSpola = arrTest.reduce((acc, oseba) => {
                acc[oseba.spol] = (acc[oseba.spol] || 0) + 1;
                return acc;
            }, {});

            // Poi≈°ƒçemo najpogostej≈°i spol
            const najpogostejsiSpol = Object.entries(statistikaSpola).reduce((naj, trenutni) => {
                return trenutni[1] > naj[1] ? trenutni : naj;
            });

            console.log(`Najpogostej≈°i spol: ${najpogostejsiSpol[0]} (${najpogostejsiSpol[1]} oseb)`);

        </script>
    </body>

</html>