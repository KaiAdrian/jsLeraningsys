<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
        <script>
            // üü¢ ZAƒåETEK: async / await
            // ‚ùì Kaj re≈°uje?
            // Branje asinhrone kode, ki je vƒçasih zmedena s .then()

            // Pojavi se pogosto z fetch(), setTimeout, API klici, itd.

            // ‚úÖ Primer brez await (klasiƒçni Promise):
            fetch("https://jsonplaceholder.typicode.com/posts/1")
                .then(res => res.json())
                .then(data => console.log(data))
                .catch(err => console.error(err));


            // üîÅ Enako z async/await:

            async function pridobiPodatek() {
                try {
                    const odgovor = await fetch("https://jsonplaceholder.typicode.com/posts/1");
                    const data = await odgovor.json();
                    console.log(data);
                } catch (napaka) {
                    console.error("Napaka:", napaka);
                }
            }

            pridobiPodatek();


            // await ƒçaka na rezultat fetch()

            // try/catch je enostavnej≈°i kot .catch()

            //üü° NAPREJ: fetch()
            // Kaj dela?
            // Po≈°lje HTTP zahtevo (GET, POST, ...)

            // Deluje asinhrono

            // Vrne Promise z objektom Response

            fetch("https://api.example.com/podatki")
                .then(res => res.json())  // ali .text(), .blob(), .arrayBuffer()
                .then(data => console.log(data));

            // Lahko dodaja≈° tudi headers, metodo, body za POST:
            fetch("https://api.example.com/podatki", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ ime: "Cris", email: "test@test.com" })
            });


            //üß± MODULI (import / export)
            // üéØ Zakaj?
            // Bolj≈°a organizacija kode (loƒçene datoteke)

            // Uporabno v veƒçjih projektih ali z orodji (npr. Vite, Webpack)

            export const ime = "Cris";
            export function pozdravi() {
                console.log(`≈Ωivjo, ${ime}!`);
            }

            // V drugi datoteki main.js:
            import { ime, pozdravi } from "./uporabnik.js";

            console.log(ime);      // Cris
            pozdravi();            // ≈Ωivjo, Cris!

            // Pomembno: datoteke morajo biti oznaƒçene kot module:
            // <script type="module" src="main.js</script>



        </script>
    </body>

</html>